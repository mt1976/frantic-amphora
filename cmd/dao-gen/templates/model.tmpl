package {{.PackageName}}

import (
	"time"

	"github.com/mt1976/frantic-amphora/dao/audit"
	"github.com/mt1976/frantic-amphora/dao/entities"
)

// TableName is the canonical DAO table identifier for this package.
var {{.TableVar}} = entities.Table("{{.TableName}}")

var tableName = {{.TableVar}}.String()

// {{.TypeName}} represents an example entity.
//
// This is generated from the TemplateStoreV2 template set. Adjust domain fields and tags as required.
type {{.TypeName}} struct {
	// The primary key field(s), managed by the framework, DO NOT MODIFY
	ID  int    `storm:"id,increment=100"`
	Key string `storm:"index,unique"`
	Raw string `storm:"index,unique"`
	//
	// Domain specific fields, starts.
{{.DomainFields}}
	// Domain specific fields, ends.	
	//
	// Audit information, managed by the framework, DO NOT MODIFY
	Audit audit.Audit `csv:"-"`	
}

type fieldNames struct {
	// The primary key field(s), managed by the framework, DO NOT MODIFY
	ID  entities.Field
	Key entities.Field
	Raw entities.Field
	//
	// Domain specific fields, starts.
{{domainFieldNames}}	// Domain specific fields, ends.
	//
	// The audit information, managed by the framework, DO NOT MODIFY
	Audit entities.Field
	
}

// {{.FieldsVar}} provides strongly-typed field names for use with GetBy/GetAllWhere/etc.
//
// Example: GetBy({{.FieldsVar}}.Key, "abc")
//
// Note: the values are the struct field names as stored in Storm.
var {{.FieldsVar}} = fieldNames{
	// The primary key field(s), managed by the framework, DO NOT MODIFY
	ID:  "ID",
	Key: "Key",
	Raw: "Raw",
	//
	// Domain specific fields, starts.
{{domainFieldInits}}
	// Domain specific fields, ends.
	//
	// The audit information, managed by the framework, DO NOT MODIFY
	Audit: "Audit",
}
